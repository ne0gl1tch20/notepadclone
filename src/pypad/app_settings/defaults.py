from __future__ import annotations


DEFAULT_UPDATE_FEED_URL = "https://raw.githubusercontent.com/ne0gl1tch20/notepadclone/refs/heads/main/notepad.xml"


def build_default_settings(*, default_style: str, font_family: str, font_size: int) -> dict:
    return {
        "settings_schema_version": 2,
        "app_style": default_style,
        "dark_mode": False,
        "theme": "Default",
        "accent_color": "#4a90e2",
        "use_custom_colors": False,
        "custom_editor_bg": "",
        "custom_editor_fg": "",
        "custom_chrome_bg": "",
        "font_family": font_family,
        "font_size": int(font_size),
        "sound_enabled": True,
        "background_music": False,
        "language": "English",
        "notifications_enabled": True,
        "privacy_lock": False,
        "lock_password": "",
        "lock_pin": "",
        "version_history_enabled": True,
        "version_history_interval_sec": 30,
        "version_history_max_entries": 50,
        "local_history_persist_enabled": True,
        "crash_snapshot_enabled": True,
        "page_layout_view_enabled": False,
        "page_layout_margin_left_mm": 18,
        "page_layout_margin_top_mm": 18,
        "page_layout_margin_right_mm": 18,
        "page_layout_margin_bottom_mm": 18,
        "page_layout_header_text": "",
        "page_layout_footer_text": "",
        "page_layout_show_ruler": True,
        "page_layout_show_page_breaks": True,
        "track_changes_enabled": False,
        "reminders_enabled": True,
        "reminder_check_interval_sec": 30,
        "syntax_highlighting_enabled": True,
        "syntax_highlighting_mode": "Auto",
        "focus_hide_menu": True,
        "focus_hide_toolbar": True,
        "focus_hide_status": False,
        "focus_hide_tabs": False,
        "focus_allow_escape_exit": True,
        "always_on_top": False,
        "post_it_mode": False,
        "show_symbol_space_tab": False,
        "show_symbol_eol": False,
        "show_symbol_non_printing": False,
        "show_symbol_control_chars": False,
        "show_symbol_all_chars": False,
        "show_symbol_indent_guide": True,
        "show_symbol_wrap_symbol": False,
        "show_markdown_toolbar": False,
        "show_find_panel": False,
        "show_main_toolbar": True,
        "ui_density": "comfortable",
        "icon_size_px": 18,
        "toolbar_label_mode": "icons_only",
        "simple_mode": False,
        "welcome_tutorial_seen": False,
        "checklist_toggle_enabled": True,
        "tab_width": 4,
        "insert_spaces": True,
        "auto_indent": True,
        "trim_trailing_whitespace_on_save": False,
        "caret_width_px": 1,
        "highlight_current_line": True,
        "tab_close_button_mode": "always",
        "tab_elide_mode": "right",
        "tab_min_width_px": 120,
        "tab_max_width_px": 240,
        "tab_double_click_action": "new_tab",
        "autosave_enabled": True,
        "autosave_interval_sec": 30,
        "recent_files": [],
        "pinned_files": [],
        "favorite_files": [],
        "file_tags": {},
        "file_colors": {},
        "file_encodings": {},
        "file_eol_modes": {},
        "restore_last_session": True,
        "last_session_files": [],
        "last_session_active_file": "",
        "last_session_workspace_root": "",
        "last_session_file_path": "",
        "large_file_threshold_kb": 2048,
        "large_file_fast_open_enabled": True,
        "large_file_fast_open_kb": 8192,
        "large_file_preview_head_lines": 2000,
        "large_file_preview_tail_lines": 250,
        "workspace_root": "",
        "workspace_show_hidden_files": False,
        "workspace_follow_symlinks": False,
        "workspace_max_scan_files": 25000,
        "search_default_match_case": False,
        "search_default_whole_word": False,
        "search_default_regex": False,
        "search_highlight_color": "#4a90e2",
        "search_max_highlights": 2000,
        "shortcut_profile": "vscode",
        "shortcut_conflict_policy": "warn",
        "shortcut_show_unassigned": True,
        "shortcut_map": {},
        "enabled_plugins": [],
        "trusted_plugin_hashes": {},
        "quarantined_plugins": [],
        "plugin_startup_safe_mode": False,
        "defer_plugin_load_on_startup": True,
        "plugin_startup_defer_ms": 1200,
        "keyboard_only_mode": False,
        "backup_scheduler_enabled": False,
        "backup_interval_min": 15,
        "backup_output_dir": "",
        "layout_auto_save_enabled": True,
        "snap_dock_shortcuts_enabled": True,
        "per_tab_splitter_sizes_enabled": True,
        "autosave_include_pdf": False,
        "collab_port": 8765,
        "collab_rw": False,
        "collab_token": "",
        "collab_presence_timeout_sec": 120,
        "annotations": {},
        "snippets": {},
        "template_packs": {},
        "gemini_api_key": "",
        "ai_model": "gemini-3-flash-preview",
        "ai_send_redact_emails": False,
        "ai_send_redact_paths": False,
        "ai_send_redact_tokens": True,
        "ai_preview_redacted_prompt": True,
        "ai_key_storage_mode": "settings",
        "ai_private_mode": False,
        "ai_estimated_cost_per_1k_tokens": 0.0005,
        "ai_workspace_qa_max_files": 10,
        "ai_workspace_qa_max_lines_per_file": 60,
        "ai_prompt_templates": {},
        "ai_action_history": [],
        "ai_chat_history": [],
        "update_feed_url": DEFAULT_UPDATE_FEED_URL,
        "auto_check_updates": True,
        "update_require_signed_metadata": False,
        "update_signing_key": "",
        "recovery_mode": "ask",
        "recovery_discard_after_days": 14,
        "debug_telemetry_enabled": False,
        "save_debug_logs_to_appdata": False,
    }
